generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Card {
  id   String  @id @default(uuid())
  name String
  own  Boolean @default(false)
  set String?
  image_url String?

  deckId String @map("belongs_to_deck_id")
  deck   Deck   @relation(fields: [deckId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@index([deckId])
  @@index([deckId, name])

  @@map("Card")
}

model Deck {
  id        String @id @default(uuid())
  name      String
  cards_max Int
  commander_card_id  String?

  cards     Card[]

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("Deck")
}

